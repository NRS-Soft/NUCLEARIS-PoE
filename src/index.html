<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Nuclearis Material Organization</title>

    <!-- Bootstrap -->
    <link href="css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div>
      <div>
          <h1>Nuclearis Material Organization</h1>
          <ul>
              <li><a href="index.html?page=list">List document</a></li>
              <li><a href="index.html?page=add">Add document</a></li>
              <li><a href="index.html?page=verify">Verify document</a></li>
              <li><a href="index.html?page=contact">Contact</a></li>
            </ul>
      </div>

      <div id="list">
        <table id="customers">
          <thead>
            <tr>
              <th>id</th>
              <th>Fecha y Hora</th>
              <th>Doc Hash</th>
              <th>IPFS Hash</th>
              <th>Owner</th>
            </tr>
          </thead>
          <tbody id="docRow">
          </tbody>
        </table>
      </div>
    </div>

    <div id="verify"><h2>Compare hashes</h2>
      <input type="file" name="files" id="checkfiles" class="form-control">
      <h3><div id="hashresult"></div></h3>
    </div>

    <div id="add"><h2>Add hashes</h2>
      <input type="file" name="files" id="addfiles" class="form-control">
      <h3><div id="addresult"></div></h3>

  </div>
  
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/sha256.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>

    <script>
      let params = (new URL(document.location)).searchParams;
      let site = params.get("page");
      if (site == "list") {
        document.getElementById("list").style.display = "block";
      }
      if (site == "verify") {
        document.getElementById("verify").style.display = "block";
      }
      if (site == "add") {
        document.getElementById("add").style.display = "block";
      }
      document.getElementById('checkfiles').addEventListener('change', getHash, false);
      document.getElementById('addfiles').addEventListener('change', addHash, false);
      </script>

  </body>
</html>
